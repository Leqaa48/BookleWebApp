@model BookleWebApp.Models.Book
@inject SignInManager<ApplicationUser> _signInManager
@{
    ViewData["Title"] = "Book Details";
}

<!-- Breadcumb Section Start -->
<div class="breadcrumb-wrapper">
    <div class="book1">
        <img src="/Bookle/main-file/assets/img/hero/book1.png" alt="book">
    </div>
    <div class="book2">
        <img src="/Bookle/main-file/assets/img/hero/book2.png" alt="book">
    </div>
    <div class="container">
        <div class="page-heading">
            <h1>Book Details</h1>
            <div class="page-header">
                <ul class="breadcrumb-items wow fadeInUp" data-wow-delay=".3s">
                    <li>
                        <a href="index.html">
                            Home
                        </a>
                    </li>
                    <li>
                        <i class="fa-solid fa-chevron-right"></i>
                    </li>
                    <li>
                        Book Details
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Shop Details Section Start -->
<section class="shop-details-section fix section-padding">
    <div class="container">
        <div class="shop-details-wrapper">
            <div class="row g-4">
                <div class="col-lg-5">
                    <div class="shop-details-image">
                        <div class="tab-content">
                            <div id="thumb1" class="tab-pane fade show active">
                                <div class="shop-details-thumb">
                                    <img src=@Model.BookImage alt="img">
                                </div>
                            </div>
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="shop-details-content">
                        <div class="title-wrapper">
                            <h2>@Model.Title</h2>
                            @if(Model.StockQuantity>0){
                                <h5>Stock availability.</h5>

                            }
                            else{
                                <h5 class="text-danger">Stock not availability.</h5>
                            }
                            
                        </div>
                        <div class="star">
                            <a href="shop-details.html"> <i class="fas fa-star"></i></a>
                            <a href="shop-details.html"><i class="fas fa-star"></i></a>
                            <a href="shop-details.html"> <i class="fas fa-star"></i></a>
                            <a href="shop-details.html"><i class="fas fa-star"></i></a>
                            <a href="shop-details.html"><i class="fa-regular fa-star"></i></a>
                            <span>(1 Customer Reviews)</span>
                        </div>
                        <p>
                            @Model.Description
                        </p>
                        <div class="price-list">
                            <h3>$@Model.Price</h3>
                        </div>
                        <div class="cart-wrapper">
                            
                            <!-- Read More Modal -->
                            <div class="modal fade" id="readMoreModal" tabindex="-1" aria-labelledby="readMoreModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-body" style="background-image: url(/Bookle/main-file/assets/img/popupBg.png);">
                                            <div class="close-btn">
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="readMoreBox">
                                                <div class="content">
                                                    <h3 id="readMoreModalLabel">The Role Of Book</h3>
                                                    <p>
                                                        Educating the Public <br>
                                                        Political books play a crucial role in educating the public about political theories, historical events, policies, and the workings of governments...
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            @if (_signInManager.IsSignedIn(User) && User.IsInRole("User"))
                            {
                                <form asp-action="AddToCart" asp-controller="Carts" method="post">
                                    <input type="hidden" name="bookId" value="@Model.Id" />
                                    <input type="hidden" name="quantity" id="quantity" value="1" />
                                    <button type="submit" class="theme-btn">
                                        <i class="fa-solid fa-basket-shopping"></i> Add To Cart
                                    </button>
                                </form>
                            }
                            else
                            {
                                <div class="shop-button">
                                    <a asp-action="LoginFirst" asp-controller="Books" asp-route-id="@Model.Id" class="theme-btn">
                                        <i class="fa-solid fa-basket-shopping"></i> Add To Cart
                                    </a>
                                </div>
                            }
                            <div class="icon-box">
                                <a href="shop-details.html" class="icon">
                                    <i class="far fa-heart"></i>
                                </a>
                                
                            </div>
                        </div>

                        <div class="category-box">
                            <div class="category-list">
                                <ul>
                                    
                                    <li>
                                        <span>Category:</span> @Model.Category.Name
                                    </li>
                                </ul>
                                <ul>
                                    <li>
                                        <span>Language:</span> @Model.BookLanguage
                                    </li>
                                </ul>

                                <ul>
                                    <li>
                                        <span>Total page:</span> 330
                                    </li>
                                    
                                </ul>
                                <ul>
                                    <li>
                                        <span>Publish Years:</span> 2021
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="box-check">
                            <div class="check-list">
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-check"></i>
                                        Free shipping orders from $150
                                    </li>
                                    <li>
                                        <i class="fa-solid fa-check"></i>
                                        30 days exchange & return
                                    </li>
                                </ul>
                                <ul>
                                    <li>
                                        <i class="fa-solid fa-check"></i>
                                        Mamaya Flash Discount: Starting at 30% Off
                                    </li>
                                    <li>
                                        <i class="fa-solid fa-check"></i>
                                        Safe & Secure online shopping
                                    </li>
                                </ul>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="single-tab section-padding pb-0">
                <ul class="nav mb-5" role="tablist">
                    
                    <li class="nav-item" role="presentation">
                        <a href="#additional" data-bs-toggle="tab" class="nav-link ps-0 active"
                           aria-selected="true" role="tab">
                            <h6>Additional Information </h6>
                        </a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a href="#review" data-bs-toggle="tab" class="nav-link" aria-selected="false" tabindex="-1"
                           role="tab">
                            <h6>reviews (3)</h6>
                        </a>
                    </li>
                </ul>
                <div class="tab-content">
                    
                    <div id="additional" class="tab-pane fade show active" role="tabpanel">

                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <tbody>
                                    <tr>
                                        <td class="text-1">Availability</td>
                                        @if(Model.StockQuantity>0){
                                            <td class="text-2">Available</td>
                                        }
                                        else{
                                            <td class="text-2">Not Available</td>
                                        }
                                        
                                    </tr>
                                    <tr>
                                        <td class="text-1">Categories</td>
                                        <td class="text-2">@Model.Category.Name</td>
                                    </tr>
                                    <tr>
                                        <td class="text-1">Publish Date</td>
                                        <td class="text-2">2022-10-24</td>
                                    </tr>
                                    <tr>
                                        <td class="text-1">Total Page</td>
                                        <td class="text-2">330</td>
                                    </tr>
                                    <tr>
                                        <td class="text-1">Language</td>
                                        <td class="text-2">English</td>
                                    </tr>
                                    <tr>
                                        <td class="text-1">Dimensions</td>
                                        <td class="text-2">30 × 32 × 46 Inches</td>
                                    </tr>
                                    <tr>
                                        <td class="text-1">Weight</td>
                                        <td class="text-2">2.5 Pounds</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="review" class="tab-pane fade" role="tabpanel">
                        <div class="review-items">
                            <div class="review-wrap-area d-flex gap-4">
                                <div class="review-thumb">
                                    <img src="/Bookle/main-file/assets/img/shop-details/review.png" alt="img">
                                </div>
                                <div class="review-content">
                                    <div class="head-area d-flex flex-wrap gap-2 align-items-center justify-content-between">
                                        <div class="cont">
                                            <h5><a href="news-details.html">Leslie Alexander</a></h5>
                                            <span>February 10, 2024 at 2:37 pm</span>
                                        </div>
                                        <div class="star">
                                            <i class="fa-solid fa-star"></i>
                                            <i class="fa-solid fa-star"></i>
                                            <i class="fa-solid fa-star"></i>
                                            <i class="fa-solid fa-star"></i>
                                            <i class="fa-regular fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="mt-30 mb-4">
                                        Neque porro est qui dolorem ipsum quia quaed inventor veritatis et quasi
                                        architecto var sed efficitur turpis gilla sed sit amet finibus eros. Lorem
                                        Ipsum is <br> simply dummy
                                    </p>
                                </div>
                            </div>
                            <div class="review-title mt-5 py-15 mb-30">
                                <h4>Your Rating*</h4>
                                <div class="rate-now d-flex align-items-center">
                                    <p>Your Rating*</p>
                                    <div class="star">
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="review-form">
                                <form action="#" id="contact-form" method="POST">
                                    <div class="row g-4">
                                        <div class="col-lg-6">
                                            <div class="form-clt">
                                                <span>Your Name*</span>
                                                <input type="text" name="name" id="name" placeholder="Your Name">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-clt">
                                                <span>Your Email*</span>
                                                <input type="text" name="email" id="email" placeholder="Your Email">
                                            </div>
                                        </div>
                                        <div class="col-lg-12 wow fadeInUp animated" data-wow-delay=".8">
                                            <div class="form-clt">
                                                <span>Message*</span>
                                                <textarea name="message" id="message"
                                                          placeholder="Write Message"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 wow fadeInUp animated" data-wow-delay=".9">
                                            <div class="form-check d-flex gap-2 from-customradio">
                                                <input type="checkbox" class="form-check-input"
                                                       name="flexRadioDefault" id="flexRadioDefault12">
                                                <label class="form-check-label" for="flexRadioDefault12">
                                                    i accept your terms & conditions
                                                </label>
                                            </div>
                                            <button type="submit" class="theme-btn">
                                                Submit now
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Top Ratting Book Section Start -->
<section class="top-ratting-book-section fix section-padding pt-0">
    <div class="container">
        <div class="section-title text-center">
            <h2 class="mb-3 wow fadeInUp" data-wow-delay=".3s">Related Products</h2>
           
        </div>
        <div class="swiper book-slider">
            <div class="swiper-wrapper">
                @foreach (var book in ViewBag.BooksInSameCategory){
                    <div class="swiper-slide">
                        <div class="shop-box-items style-2">
                            <div class="book-thumb center">
                                <a asp-action="BookDetails" asp-controller="Books" asp-route-id=@book.Id><img src=@book.BookImage alt="img"></a>
                                
                                <ul class="shop-icon d-grid justify-content-center align-items-center">
                                    <li>
                                        <a href="shop-cart.html"><i class="far fa-heart"></i></a>
                                    </li>
                                </ul>
                                <ul class="shop-icon d-grid justify-content-center align-items-center">
                                    <li>
                                        <a href="shop-cart.html"><i class="far fa-heart"></i></a>
                                    </li>
                                    <li>
                                        <a href="shop-cart.html">

                                            <img class="icon" src="/Bookle/main-file/assets/img/icon/shuffle.svg" alt="svg-icon">
                                        </a>
                                    </li>
                                    <li>
                                        <a asp-action="BookDetails" asp-controller="Books" asp-route-id=@book.Id><i class="far fa-eye"></i></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="shop-content">
                                <h3><a asp-action="BookDetails" asp-controller="Books" asp-route-id=@book.Id>@book.Title </a></h3>
                                <ul class="price-list">
                                    <li>$@book.Price</li>
                                </ul>
                                <ul class="author-post">
                                    <li class="authot-list">
                                        <span class="thumb">
                                            Author : 
                                        </span>
                                        <span class="content">@book.Author</span>
                                    </li>

                                    <li class="star">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-regular fa-star"></i>
                                    </li>
                                </ul>
                            </div>
                            @if (_signInManager.IsSignedIn(User) && User.IsInRole("User"))
                            {
                                <form asp-action="AddToCart" asp-controller="Carts" method="post">
                                    <input type="hidden" name="bookId" value="@book.Id" />
                                    <button type="submit" class="theme-btn">
                                        <i class="fa-solid fa-basket-shopping"></i> Add To Cart
                                    </button>
                                </form>
                            }
                            else
                            {
                                <div class="shop-button">
                                    <a asp-action="LoginFirst" asp-controller="Books" asp-route-id="@book.Id" class="theme-btn">
                                        <i class="fa-solid fa-basket-shopping"></i> Add To Cart
                                    </a>
                                </div>
                            }
                            
                        </div>
                    </div>
                }
                
            </div>
        </div>
    </div>
</section>

